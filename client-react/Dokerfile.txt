
# مرحله 1: ساختن محیط و کپی کردن برنامه
FROM node:18-alpine

# تنظیم پوشه کاری
WORKDIR /app

# کپی کردن فایل‌های نیازمند برای نصب وابستگی‌ها
COPY package.json package-lock.json ./

# نصب وابستگی‌ها
RUN npm install

# کپی کردن بقیه فایل‌های برنامه
COPY . .

# پورتی که برنامه روی آن اجرا می‌شود (مطابق با index.js)
EXPOSE 5000

# دستور شروع برنامه
CMD [ "node", "index.js" ]